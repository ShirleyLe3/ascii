{"version":3,"file":"bundle.esm.js","sources":["../src/lib/utils.ts","../src/charsets.ts","../node_modules/wheels/esm/color/srgb.js","../node_modules/wheels/esm/math/native.js","../node_modules/wheels/esm/object/index.js","../node_modules/wheels/esm/dom/index.js","../src/types.ts","../src/lib/canvas/utils.ts","../src/lib/canvas/basic.ts","../src/lib/canvas/advanced.ts","../src/classes/LUT.ts","../src/settings.ts","../src/classes/Renderer.ts","../src/classes/CPURenderer.ts","../src/lib/gl/enums/webgl1.ts","../src/lib/gl/enums/webgl2.ts","../src/lib/gl/utils/factories.ts","../src/lib/gl/utils/helpers.ts","../src/shaders.ts","../src/classes/GPURenderer.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/unbound-method */\n\nexport const str = String.fromCharCode\nexport const chr = (str: string) => str.charCodeAt(0)\n\nexport const render = (str: string, ctx = {}, ref = '$'): string =>\n  new Function(`{${Object.keys(ctx)}}`, ref, `return \\`${str}\\``)(ctx, ctx)\n","/* eslint-disable prefer-template */\nimport { chr, str } from './lib/utils'\n\nconst expand = (pair: string) => {\n  const [a, b] = [...pair].map(chr)\n  const codes = [...Array(b - a).keys()].map(n => a + n)\n  return str(...codes, b)\n}\n\nexport const ascii =\n  expand(' ^') + expand('`~')\n\nexport const extended =\n  ascii + expand('¡§') + '®°±©«¬´µ·»¿×÷'\n\nexport const extra =\n  extended + expand('‘•') + '‹›∙√∞'\n","export const rgb = (srgb) => srgb <= 0.04045 ? srgb / 12.92 : ((srgb + 0.055) / 1.055) ** 2.4;\nexport const srgb = (rgb) => rgb <= 0.0031308 ? rgb * 12.92 : (rgb ** (1 / 2.4)) * 1.055 - 0.055;\n","export const { abs, acos, acosh, asin, asinh, atan, atan2, atanh, cbrt, ceil, clz32, cos, cosh, exp, expm1, floor, fround, hypot, imul, log, log10, log1p, log2, max, min, pow, random, round, sign, sin, sinh, sqrt, tan, tanh, trunc, E, LN10, LN2, LOG10E, LOG2E, PI, SQRT1_2, SQRT2 } = Math;\nexport const { isFinite, isInteger, isNaN, isSafeInteger, parseFloat, parseInt, EPSILON, MAX_SAFE_INTEGER, MAX_VALUE, MIN_SAFE_INTEGER, MIN_VALUE, NEGATIVE_INFINITY, POSITIVE_INFINITY } = Number;\n","export const extend = Object.assign;\nexport const overwrite = extend;\nexport const copy = (object) => overwrite({}, object);\nexport const get = (object, path, sep = '.') => path.split(sep).reduce((o, next) => o && o[next], object);\nexport const proto = (object) => {\n    const props = new Set();\n    for (let o = object; o && o !== Object.prototype; o = Object.getPrototypeOf(o))\n        Object.getOwnPropertyNames(o).forEach(prop => props.add(prop));\n    return props;\n};\nexport * from './deep-copy';\n","import { overwrite } from '../object';\nexport const context2d = (...attributes) => (...settings) => overwrite(element('canvas')(...attributes).getContext('2d'), ...settings);\nexport const element = (name) => (...attributes) => overwrite(document.createElement(name), ...attributes);\nexport const append = (parent) => (...children) => children.forEach(child => parent.appendChild(child));\nexport const prevent = (fn) => (event) => { event.preventDefault(); fn && fn(event); };\nexport const raf = () => new Promise(resolve => requestAnimationFrame(resolve));\n","import { defaults } from './settings'\n\nexport type Settings = typeof defaults\nexport type Context = CanvasRenderingContext2D\nexport type Source = Context | CanvasImageSource & TexImageSource\n\nexport const Context = CanvasRenderingContext2D\n","import { element } from 'wheels/esm/dom'\nimport { extend, overwrite } from 'wheels/esm/object'\nimport { Context, Source } from '../../types'\n\nconst triplet = (w: number, h: number) =>\n  extend([w, h, w/h], { width: w, height: h, ratio: w/h })\n\nexport const extract = (src: Source) =>\n  src instanceof Context\n    ? src.canvas\n    : src\n\nexport const measure = (src: Source) => {\n  if (src instanceof HTMLVideoElement)\n    return triplet(src.videoWidth, src.videoHeight)\n\n  if (src instanceof HTMLImageElement)\n    return triplet(src.naturalWidth, src.naturalHeight)\n\n  const srcʹ = extract(src)\n  return triplet(srcʹ.width, srcʹ.height)\n}\n\nexport const context2d = (setup?: (api: Context) => void) => {\n  const canvas = element('canvas')()\n  const context = canvas.getContext('2d')!\n\n  return (width: number, height: number) => {\n    overwrite(canvas, { width, height })\n    setup?.(context)\n    return context\n  }\n}\n","import { Source } from '../../types'\nimport { context2d, extract, measure } from './utils'\n\nexport const converter = () => {\n  const cached = context2d()\n\n  return (src: Source) => {\n    const [w, h] = measure(src)\n    const dst = cached(w, h)\n    dst.drawImage(extract(src), 0, 0)\n    return dst\n  }\n}\n\nexport const resizer = () => {\n  const cached = context2d()\n\n  return (src: Source, w: number, h: number) => {\n    const dst = cached(w, h)\n    dst.drawImage(extract(src), 0, 0, w, h)\n    return dst\n  }\n}\n\nexport const cropper = () => {\n  const cached = context2d()\n\n  return (src: Source, w: number, h: number, x = 0, y = 0) => {\n    const dst = cached(w, h)\n    dst.drawImage(extract(src), x, y, w, h, 0, 0, w, h)\n    return dst\n  }\n}\n","import { clz32, max } from 'wheels/esm/math'\nimport { Source } from '../../types'\nimport * as basic from './basic'\nimport { measure } from './utils'\n\n// most significant bit (but msb(x) is always >=1)\nconst msb = (n: number) => 1 << max(0, 31 - clz32(n))\n\nexport const resizer = () => {\n  const resize = basic.resizer()\n  const crop = basic.cropper()\n\n  return (src: Source, w: number, h: number) => {\n    const [wʹ, hʹ] = measure(src)\n    let wʺ = w * msb(wʹ / w - 1)\n    let hʺ = h * msb(hʹ / h - 1)\n    const tmp = resize(src, wʺ, hʺ)\n\n    if (w === wʺ && h === hʺ)\n      return tmp\n\n    for (let x, y; x = w < wʺ, y = h < hʺ, x || y;)\n      tmp.drawImage(tmp.canvas, 0, 0, wʺ, hʺ, 0, 0, wʺ >>= +x, hʺ >>= +y)\n\n    return crop(tmp, w, h)\n  }\n}\n\nexport const lazyResizer = () => {\n  const resize = resizer()\n\n  return (src: Source, w: number, h: number) => {\n    const [wʹ, hʹ] = measure(src)\n    return w !== wʹ || h !== hʹ ? resize(src, w, h) : src\n  }\n}\n","import { rgb } from 'wheels/esm/color/srgb'\nimport { abs, round } from 'wheels/esm/math'\nimport { resizer } from '../lib/canvas/advanced'\nimport { context2d } from '../lib/canvas/utils'\nimport { str } from '../lib/utils'\nimport { Settings } from '../types'\n\nconst cached = context2d()\nconst resize = resizer()\n\nconst enum Color {\n  outline    = '#00f',\n  background = '#000',\n  foreground = '#fff'\n}\n\nexport class LUT extends Float32Array {\n  constructor(public width: number, public height: number) {\n    super(width * height)\n  }\n\n  static fromCharCode(charCode: number, settings: Settings) {\n    const { fontWidth, fontHeight, fontFamily, fontBlur, fontGamma } = settings\n    const { fontBase, lutWidth, lutHeight, lutPadding, lutGamma } = settings\n\n    const lutWidthʹ   = lutPadding*2 + lutWidth\n    const lutHeightʹ  = lutPadding*2 + lutHeight\n\n    const fontWidthʹ  = round(lutWidthʹ  / lutWidth  * fontWidth)\n    const fontHeightʹ = round(lutHeightʹ / lutHeight * fontHeight)\n\n    const api = cached(fontWidthʹ, fontHeightʹ)\n    const char = str(charCode)\n\n    api.fillStyle = Color.outline\n    api.fillRect(0, 0, fontWidthʹ, fontHeightʹ)\n\n    api.translate(fontWidthʹ/2, fontHeightʹ/2)\n    api.fillStyle = Color.background\n    api.fillRect(-fontWidth/2, -fontHeight/2, fontWidth, fontHeight)\n\n    api.translate(0, fontHeight*(0.5 - fontBase))\n    api.fillStyle = Color.foreground\n    api.textAlign = 'center'\n    api.font = `${fontHeight}px ${fontFamily}`\n\n    for (let i = 0, m = 1, n = 1; i < fontBlur; [m, n] = [n, n + m]) {\n      api.filter = `blur(${n}px)`\n      api.globalAlpha = (++i / fontBlur)**fontGamma\n      api.fillText(char, 0, 0)\n    }\n\n    const lut = new LUT(lutWidth, lutHeight)\n    const rgba = resize(api, lutWidthʹ, lutHeightʹ)\n      .getImageData(lutPadding, lutPadding, lutWidth, lutHeight)\n      .data\n\n    for (let i = 0; i < lut.length; i++)\n      lut[i] = rgb(rgba[i << 2] / 0xff)**lutGamma\n\n    return lut\n  }\n\n  static combine(luts: LUT[]) {\n    const width = luts[0].length\n    const height = luts.length\n    const lut = new LUT(width, height)\n\n    for (let i = 0; i < height; i++)\n      lut.set(luts[i], i*width)\n\n    return lut\n  }\n\n  normalize(min: number, max: number) {\n    for (let i = this.length; i--;)\n      this[i] = (this[i] - min) / (max - min)\n  }\n\n  compare(other: LUT) {\n    let acc = 0\n\n    for (let i = this.length; i--;)\n      acc += abs(this[i] - other[i])\n\n    return acc\n  }\n}\n","import { ascii } from './charsets'\n\nexport const defaults = {\n  charSet:    ascii,\n\n  fontFamily: 'monospace',\n  fontBase:   0.25,\n  fontWidth:  40,\n  fontHeight: 70,\n  fontBlur:   9,\n  fontGamma:  1.0,\n\n  lutWidth:   5,\n  lutHeight:  7,\n  lutPadding: 1,\n  lutMin:     0.0,\n  lutMax:     1.0,\n  lutGamma:   1.0,\n\n  gamma:      1.0,\n  signal:     1.0,\n  noise:      0.0\n}\n","import { floor, max } from 'wheels/esm/math'\nimport { lazyResizer } from '../lib/canvas/advanced'\nimport { context2d } from '../lib/canvas/utils'\nimport { chr } from '../lib/utils'\nimport { defaults } from '../settings'\nimport { Settings, Source } from '../types'\nimport { LUT } from './LUT'\n\nexport const monospaced = (font: string) => {\n  const api = context2d(api => api.font = `1em ${font}`)(0, 0)\n  const ref = api.measureText(' ')\n  return (char: string) => api.measureText(char).width === ref.width\n}\n\nexport abstract class Renderer {\n  readonly settings: Settings\n  protected readonly _charMap: Int32Array\n  protected readonly _luts: LUT[]\n  protected readonly _resize = lazyResizer()\n\n  constructor(settings?: Partial<Settings>) {\n    this.settings = { ...defaults, ...settings }\n    this._charMap = this._makeCharMap()\n    this._luts = this._makeLUTs()\n  }\n\n  private _makeCharMap() {\n    const { charSet, fontFamily } = this.settings\n\n    const charCodes = [...charSet]\n      .filter(monospaced(fontFamily))\n      .map(chr)\n\n    return Int32Array.from(charCodes)\n  }\n\n  private _makeLUTs() {\n    const { _charMap, settings } = this\n    const { lutMin, lutMax } = settings\n\n    const luts = Array.from(_charMap, cc => LUT.fromCharCode(cc, settings))\n    const maxʹ = luts.reduce((acc, lut) => max(acc, ...lut), 0)\n\n    for (const lut of luts)\n      lut.normalize(lutMin * maxʹ, lutMax * maxʹ)\n\n    return luts\n  }\n\n  render(src: Source, width: number, height: number) {\n    return [...this.lines(src, floor(width), floor(height))].join('\\n')\n  }\n\n  abstract lines(src: Source, width: number, height: number): Generator<string>\n}\n","import { rgb } from 'wheels/esm/color/srgb'\nimport { random } from 'wheels/esm/math'\nimport { converter } from '../lib/canvas/basic'\nimport { str } from '../lib/utils'\nimport { Source } from '../types'\nimport { LUT } from './LUT'\nimport { Renderer } from './Renderer'\n\n// https://en.wikipedia.org/wiki/SRGB\nconst enum Y {\n  r = 0.2126,\n  g = 0.7152,\n  b = 0.0722\n}\n\nexport class CPURenderer extends Renderer {\n  // eslint-disable-next-line @typescript-eslint/semi\n  private readonly _convert = converter();\n\n  *lines(src: Source, width: number, height: number) {\n    const { settings, _charMap, _luts, _resize, _convert } = this\n    const { lutWidth, lutHeight, gamma, signal, noise } = settings\n\n    const srcWidth  = lutWidth  * width\n    const srcHeight = lutHeight * height\n    const srcʹ = _convert(_resize(src, srcWidth, srcHeight))\n\n    const rgba = srcʹ.getImageData(0, 0, srcWidth, srcHeight).data\n    const buffer = new LUT(lutWidth, lutHeight)\n\n    for (let y = 0; y < srcHeight; y += lutHeight) {\n      const codes = []\n\n      for (let x = 0; x < srcWidth; x += lutWidth) {\n        let index = 0\n        let value = Infinity\n\n        for (let v = 0; v < lutHeight; v++) {\n          for (let u = 0; u < lutWidth; u++) {\n            let i = x+u + (y+v)*srcWidth << 2\n\n            const r = Y.r * rgb(rgba[i++] / 0xff)\n            const g = Y.g * rgb(rgba[i++] / 0xff)\n            const b = Y.b * rgb(rgba[i++] / 0xff)\n\n            const s = (r + g + b)**gamma\n            const n = random() - 0.5\n\n            buffer[index++] = signal*s + noise*n\n          }\n        }\n\n        for (let i = _luts.length; i--;) {\n          const delta = _luts[i].compare(buffer)\n\n          if (delta < value) {\n            value = delta\n            index = i\n          }\n        }\n\n        codes.push(_charMap[index])\n      }\n\n      yield str(...codes)\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/indent */\n// https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14\nexport const\n\n// ClearBufferMask\nDEPTH_BUFFER_BIT = 0x00000100,\nSTENCIL_BUFFER_BIT = 0x00000400,\nCOLOR_BUFFER_BIT = 0x00004000,\n\n// BeginMode\nPOINTS = 0x0000,\nLINES = 0x0001,\nLINE_LOOP = 0x0002,\nLINE_STRIP = 0x0003,\nTRIANGLES = 0x0004,\nTRIANGLE_STRIP = 0x0005,\nTRIANGLE_FAN = 0x0006,\n\n// AlphaFunction (not supported in ES20)\n// NEVER\n// LESS\n// EQUAL\n// LEQUAL\n// GREATER\n// NOTEQUAL\n// GEQUAL\n// ALWAYS\n\n// BlendingFactorDest\nZERO = 0,\nONE = 1,\nSRC_COLOR = 0x0300,\nONE_MINUS_SRC_COLOR = 0x0301,\nSRC_ALPHA = 0x0302,\nONE_MINUS_SRC_ALPHA = 0x0303,\nDST_ALPHA = 0x0304,\nONE_MINUS_DST_ALPHA = 0x0305,\n\n// BlendingFactorSrc\n// ZERO\n// ONE\nDST_COLOR = 0x0306,\nONE_MINUS_DST_COLOR = 0x0307,\nSRC_ALPHA_SATURATE = 0x0308,\n// SRC_ALPHA\n// ONE_MINUS_SRC_ALPHA\n// DST_ALPHA\n// ONE_MINUS_DST_ALPHA\n\n// BlendEquationSeparate\nFUNC_ADD = 0x8006,\nBLEND_EQUATION = 0x8009,\nBLEND_EQUATION_RGB = 0x8009, // same as BLEND_EQUATION\nBLEND_EQUATION_ALPHA = 0x883D,\n\n// BlendSubtract\nFUNC_SUBTRACT = 0x800A,\nFUNC_REVERSE_SUBTRACT = 0x800B,\n\n// Separate Blend Functions\nBLEND_DST_RGB = 0x80C8,\nBLEND_SRC_RGB = 0x80C9,\nBLEND_DST_ALPHA = 0x80CA,\nBLEND_SRC_ALPHA = 0x80CB,\nCONSTANT_COLOR = 0x8001,\nONE_MINUS_CONSTANT_COLOR = 0x8002,\nCONSTANT_ALPHA = 0x8003,\nONE_MINUS_CONSTANT_ALPHA = 0x8004,\nBLEND_COLOR = 0x8005,\n\n// Buffer Objects\nARRAY_BUFFER = 0x8892,\nELEMENT_ARRAY_BUFFER = 0x8893,\nARRAY_BUFFER_BINDING = 0x8894,\nELEMENT_ARRAY_BUFFER_BINDING = 0x8895,\n\nSTREAM_DRAW = 0x88E0,\nSTATIC_DRAW = 0x88E4,\nDYNAMIC_DRAW = 0x88E8,\n\nBUFFER_SIZE = 0x8764,\nBUFFER_USAGE = 0x8765,\n\nCURRENT_VERTEX_ATTRIB = 0x8626,\n\n// CullFaceMode\nFRONT = 0x0404,\nBACK = 0x0405,\nFRONT_AND_BACK = 0x0408,\n\n// DepthFunction\n// NEVER\n// LESS\n// EQUAL\n// LEQUAL\n// GREATER\n// NOTEQUAL\n// GEQUAL\n// ALWAYS\n\n// EnableCap\n// TEXTURE_2D\nCULL_FACE = 0x0B44,\nBLEND = 0x0BE2,\nDITHER = 0x0BD0,\nSTENCIL_TEST = 0x0B90,\nDEPTH_TEST = 0x0B71,\nSCISSOR_TEST = 0x0C11,\nPOLYGON_OFFSET_FILL = 0x8037,\nSAMPLE_ALPHA_TO_COVERAGE = 0x809E,\nSAMPLE_COVERAGE = 0x80A0,\n\n// ErrorCode\nNO_ERROR = 0,\nINVALID_ENUM = 0x0500,\nINVALID_VALUE = 0x0501,\nINVALID_OPERATION = 0x0502,\nOUT_OF_MEMORY = 0x0505,\n\n// FrontFaceDirection\nCW = 0x0900,\nCCW = 0x0901,\n\n// GetPName\nLINE_WIDTH = 0x0B21,\nALIASED_POINT_SIZE_RANGE = 0x846D,\nALIASED_LINE_WIDTH_RANGE = 0x846E,\nCULL_FACE_MODE = 0x0B45,\nFRONT_FACE = 0x0B46,\nDEPTH_RANGE = 0x0B70,\nDEPTH_WRITEMASK = 0x0B72,\nDEPTH_CLEAR_VALUE = 0x0B73,\nDEPTH_FUNC = 0x0B74,\nSTENCIL_CLEAR_VALUE = 0x0B91,\nSTENCIL_FUNC = 0x0B92,\nSTENCIL_FAIL = 0x0B94,\nSTENCIL_PASS_DEPTH_FAIL = 0x0B95,\nSTENCIL_PASS_DEPTH_PASS = 0x0B96,\nSTENCIL_REF = 0x0B97,\nSTENCIL_VALUE_MASK = 0x0B93,\nSTENCIL_WRITEMASK = 0x0B98,\nSTENCIL_BACK_FUNC = 0x8800,\nSTENCIL_BACK_FAIL = 0x8801,\nSTENCIL_BACK_PASS_DEPTH_FAIL = 0x8802,\nSTENCIL_BACK_PASS_DEPTH_PASS = 0x8803,\nSTENCIL_BACK_REF = 0x8CA3,\nSTENCIL_BACK_VALUE_MASK = 0x8CA4,\nSTENCIL_BACK_WRITEMASK = 0x8CA5,\nVIEWPORT = 0x0BA2,\nSCISSOR_BOX = 0x0C10,\n// SCISSOR_TEST\nCOLOR_CLEAR_VALUE = 0x0C22,\nCOLOR_WRITEMASK = 0x0C23,\nUNPACK_ALIGNMENT = 0x0CF5,\nPACK_ALIGNMENT = 0x0D05,\nMAX_TEXTURE_SIZE = 0x0D33,\nMAX_VIEWPORT_DIMS = 0x0D3A,\nSUBPIXEL_BITS = 0x0D50,\nRED_BITS = 0x0D52,\nGREEN_BITS = 0x0D53,\nBLUE_BITS = 0x0D54,\nALPHA_BITS = 0x0D55,\nDEPTH_BITS = 0x0D56,\nSTENCIL_BITS = 0x0D57,\nPOLYGON_OFFSET_UNITS = 0x2A00,\n// POLYGON_OFFSET_FILL\nPOLYGON_OFFSET_FACTOR = 0x8038,\nTEXTURE_BINDING_2D = 0x8069,\nSAMPLE_BUFFERS = 0x80A8,\nSAMPLES = 0x80A9,\nSAMPLE_COVERAGE_VALUE = 0x80AA,\nSAMPLE_COVERAGE_INVERT = 0x80AB,\n\n// GetTextureParameter\n// TEXTURE_MAG_FILTER\n// TEXTURE_MIN_FILTER\n// TEXTURE_WRAP_S\n// TEXTURE_WRAP_T\n\nCOMPRESSED_TEXTURE_FORMATS = 0x86A3,\n\n// HintMode\nDONT_CARE = 0x1100,\nFASTEST = 0x1101,\nNICEST = 0x1102,\n\n// HintTarget\nGENERATE_MIPMAP_HINT = 0x8192,\n\n// DataType\nBYTE = 0x1400,\nUNSIGNED_BYTE = 0x1401,\nSHORT = 0x1402,\nUNSIGNED_SHORT = 0x1403,\nINT = 0x1404,\nUNSIGNED_INT = 0x1405,\nFLOAT = 0x1406,\n\n// PixelFormat\nDEPTH_COMPONENT = 0x1902,\nALPHA = 0x1906,\nRGB = 0x1907,\nRGBA = 0x1908,\nLUMINANCE = 0x1909,\nLUMINANCE_ALPHA = 0x190A,\n\n// PixelType\n// UNSIGNED_BYTE\nUNSIGNED_SHORT_4_4_4_4 = 0x8033,\nUNSIGNED_SHORT_5_5_5_1 = 0x8034,\nUNSIGNED_SHORT_5_6_5 = 0x8363,\n\n// Shaders\nFRAGMENT_SHADER = 0x8B30,\nVERTEX_SHADER = 0x8B31,\nMAX_VERTEX_ATTRIBS = 0x8869,\nMAX_VERTEX_UNIFORM_VECTORS = 0x8DFB,\nMAX_VARYING_VECTORS = 0x8DFC,\nMAX_COMBINED_TEXTURE_IMAGE_UNITS = 0x8B4D,\nMAX_VERTEX_TEXTURE_IMAGE_UNITS = 0x8B4C,\nMAX_TEXTURE_IMAGE_UNITS = 0x8872,\nMAX_FRAGMENT_UNIFORM_VECTORS = 0x8DFD,\nSHADER_TYPE = 0x8B4F,\nDELETE_STATUS = 0x8B80,\nLINK_STATUS = 0x8B82,\nVALIDATE_STATUS = 0x8B83,\nATTACHED_SHADERS = 0x8B85,\nACTIVE_UNIFORMS = 0x8B86,\nACTIVE_ATTRIBUTES = 0x8B89,\nSHADING_LANGUAGE_VERSION = 0x8B8C,\nCURRENT_PROGRAM = 0x8B8D,\n\n// StencilFunction\nNEVER = 0x0200,\nLESS = 0x0201,\nEQUAL = 0x0202,\nLEQUAL = 0x0203,\nGREATER = 0x0204,\nNOTEQUAL = 0x0205,\nGEQUAL = 0x0206,\nALWAYS = 0x0207,\n\n// StencilOp\n// ZERO\nKEEP = 0x1E00,\nREPLACE = 0x1E01,\nINCR = 0x1E02,\nDECR = 0x1E03,\nINVERT = 0x150A,\nINCR_WRAP = 0x8507,\nDECR_WRAP = 0x8508,\n\n// StringName\nVENDOR = 0x1F00,\nRENDERER = 0x1F01,\nVERSION = 0x1F02,\n\n// TextureMagFilter\nNEAREST = 0x2600,\nLINEAR = 0x2601,\n\n// TextureMinFilter\n// NEAREST\n// LINEAR\nNEAREST_MIPMAP_NEAREST = 0x2700,\nLINEAR_MIPMAP_NEAREST = 0x2701,\nNEAREST_MIPMAP_LINEAR = 0x2702,\nLINEAR_MIPMAP_LINEAR = 0x2703,\n\n// TextureParameterName\nTEXTURE_MAG_FILTER = 0x2800,\nTEXTURE_MIN_FILTER = 0x2801,\nTEXTURE_WRAP_S = 0x2802,\nTEXTURE_WRAP_T = 0x2803,\n\n// TextureTarget\nTEXTURE_2D = 0x0DE1,\nTEXTURE = 0x1702,\n\nTEXTURE_CUBE_MAP = 0x8513,\nTEXTURE_BINDING_CUBE_MAP = 0x8514,\nTEXTURE_CUBE_MAP_POSITIVE_X = 0x8515,\nTEXTURE_CUBE_MAP_NEGATIVE_X = 0x8516,\nTEXTURE_CUBE_MAP_POSITIVE_Y = 0x8517,\nTEXTURE_CUBE_MAP_NEGATIVE_Y = 0x8518,\nTEXTURE_CUBE_MAP_POSITIVE_Z = 0x8519,\nTEXTURE_CUBE_MAP_NEGATIVE_Z = 0x851A,\nMAX_CUBE_MAP_TEXTURE_SIZE = 0x851C,\n\n// TextureUnit\nTEXTURE0 = 0x84C0,\nTEXTURE1 = 0x84C1,\nTEXTURE2 = 0x84C2,\nTEXTURE3 = 0x84C3,\nTEXTURE4 = 0x84C4,\nTEXTURE5 = 0x84C5,\nTEXTURE6 = 0x84C6,\nTEXTURE7 = 0x84C7,\nTEXTURE8 = 0x84C8,\nTEXTURE9 = 0x84C9,\nTEXTURE10 = 0x84CA,\nTEXTURE11 = 0x84CB,\nTEXTURE12 = 0x84CC,\nTEXTURE13 = 0x84CD,\nTEXTURE14 = 0x84CE,\nTEXTURE15 = 0x84CF,\nTEXTURE16 = 0x84D0,\nTEXTURE17 = 0x84D1,\nTEXTURE18 = 0x84D2,\nTEXTURE19 = 0x84D3,\nTEXTURE20 = 0x84D4,\nTEXTURE21 = 0x84D5,\nTEXTURE22 = 0x84D6,\nTEXTURE23 = 0x84D7,\nTEXTURE24 = 0x84D8,\nTEXTURE25 = 0x84D9,\nTEXTURE26 = 0x84DA,\nTEXTURE27 = 0x84DB,\nTEXTURE28 = 0x84DC,\nTEXTURE29 = 0x84DD,\nTEXTURE30 = 0x84DE,\nTEXTURE31 = 0x84DF,\nACTIVE_TEXTURE = 0x84E0,\n\n// TextureWrapMode\nREPEAT = 0x2901,\nCLAMP_TO_EDGE = 0x812F,\nMIRRORED_REPEAT = 0x8370,\n\n// Uniform Types\nFLOAT_VEC2 = 0x8B50,\nFLOAT_VEC3 = 0x8B51,\nFLOAT_VEC4 = 0x8B52,\nINT_VEC2 = 0x8B53,\nINT_VEC3 = 0x8B54,\nINT_VEC4 = 0x8B55,\nBOOL = 0x8B56,\nBOOL_VEC2 = 0x8B57,\nBOOL_VEC3 = 0x8B58,\nBOOL_VEC4 = 0x8B59,\nFLOAT_MAT2 = 0x8B5A,\nFLOAT_MAT3 = 0x8B5B,\nFLOAT_MAT4 = 0x8B5C,\nSAMPLER_2D = 0x8B5E,\nSAMPLER_CUBE = 0x8B60,\n\n// Vertex Arrays\nVERTEX_ATTRIB_ARRAY_ENABLED = 0x8622,\nVERTEX_ATTRIB_ARRAY_SIZE = 0x8623,\nVERTEX_ATTRIB_ARRAY_STRIDE = 0x8624,\nVERTEX_ATTRIB_ARRAY_TYPE = 0x8625,\nVERTEX_ATTRIB_ARRAY_NORMALIZED = 0x886A,\nVERTEX_ATTRIB_ARRAY_POINTER = 0x8645,\nVERTEX_ATTRIB_ARRAY_BUFFER_BINDING = 0x889F,\n\n// Read Format\nIMPLEMENTATION_COLOR_READ_TYPE = 0x8B9A,\nIMPLEMENTATION_COLOR_READ_FORMAT = 0x8B9B,\n\n// Shader Source\nCOMPILE_STATUS = 0x8B81,\n\n// Shader Precision-Specified Types\nLOW_FLOAT = 0x8DF0,\nMEDIUM_FLOAT = 0x8DF1,\nHIGH_FLOAT = 0x8DF2,\nLOW_INT = 0x8DF3,\nMEDIUM_INT = 0x8DF4,\nHIGH_INT = 0x8DF5,\n\n// Framebuffer Object.\nFRAMEBUFFER = 0x8D40,\nRENDERBUFFER = 0x8D41,\n\nRGBA4 = 0x8056,\nRGB5_A1 = 0x8057,\nRGB565 = 0x8D62,\nDEPTH_COMPONENT16 = 0x81A5,\nSTENCIL_INDEX8 = 0x8D48,\nDEPTH_STENCIL = 0x84F9,\n\nRENDERBUFFER_WIDTH = 0x8D42,\nRENDERBUFFER_HEIGHT = 0x8D43,\nRENDERBUFFER_INTERNAL_FORMAT = 0x8D44,\nRENDERBUFFER_RED_SIZE = 0x8D50,\nRENDERBUFFER_GREEN_SIZE = 0x8D51,\nRENDERBUFFER_BLUE_SIZE = 0x8D52,\nRENDERBUFFER_ALPHA_SIZE = 0x8D53,\nRENDERBUFFER_DEPTH_SIZE = 0x8D54,\nRENDERBUFFER_STENCIL_SIZE = 0x8D55,\n\nFRAMEBUFFER_ATTACHMENT_OBJECT_TYPE = 0x8CD0,\nFRAMEBUFFER_ATTACHMENT_OBJECT_NAME = 0x8CD1,\nFRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL = 0x8CD2,\nFRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE = 0x8CD3,\n\nCOLOR_ATTACHMENT0 = 0x8CE0,\nDEPTH_ATTACHMENT = 0x8D00,\nSTENCIL_ATTACHMENT = 0x8D20,\nDEPTH_STENCIL_ATTACHMENT = 0x821A,\n\nNONE = 0,\n\nFRAMEBUFFER_COMPLETE = 0x8CD5,\nFRAMEBUFFER_INCOMPLETE_ATTACHMENT = 0x8CD6,\nFRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 0x8CD7,\nFRAMEBUFFER_INCOMPLETE_DIMENSIONS = 0x8CD9,\nFRAMEBUFFER_UNSUPPORTED = 0x8CDD,\n\nFRAMEBUFFER_BINDING = 0x8CA6,\nRENDERBUFFER_BINDING = 0x8CA7,\nMAX_RENDERBUFFER_SIZE = 0x84E8,\n\nINVALID_FRAMEBUFFER_OPERATION = 0x0506,\n\n// WebGL-specific enums\nUNPACK_FLIP_Y_WEBGL = 0x9240,\nUNPACK_PREMULTIPLY_ALPHA_WEBGL = 0x9241,\nCONTEXT_LOST_WEBGL = 0x9242,\nUNPACK_COLORSPACE_CONVERSION_WEBGL = 0x9243,\nBROWSER_DEFAULT_WEBGL = 0x9244\n","/* eslint-disable @typescript-eslint/indent, @typescript-eslint/camelcase */\n// https://www.khronos.org/registry/webgl/specs/latest/2.0/#3.7\nexport const\n\nREAD_BUFFER = 0x0C02,\nUNPACK_ROW_LENGTH = 0x0CF2,\nUNPACK_SKIP_ROWS = 0x0CF3,\nUNPACK_SKIP_PIXELS = 0x0CF4,\nPACK_ROW_LENGTH = 0x0D02,\nPACK_SKIP_ROWS = 0x0D03,\nPACK_SKIP_PIXELS = 0x0D04,\nCOLOR = 0x1800,\nDEPTH = 0x1801,\nSTENCIL = 0x1802,\nRED = 0x1903,\nRGB8 = 0x8051,\nRGBA8 = 0x8058,\nRGB10_A2 = 0x8059,\nTEXTURE_BINDING_3D = 0x806A,\nUNPACK_SKIP_IMAGES = 0x806D,\nUNPACK_IMAGE_HEIGHT = 0x806E,\nTEXTURE_3D = 0x806F,\nTEXTURE_WRAP_R = 0x8072,\nMAX_3D_TEXTURE_SIZE = 0x8073,\nUNSIGNED_INT_2_10_10_10_REV = 0x8368,\nMAX_ELEMENTS_VERTICES = 0x80E8,\nMAX_ELEMENTS_INDICES = 0x80E9,\nTEXTURE_MIN_LOD = 0x813A,\nTEXTURE_MAX_LOD = 0x813B,\nTEXTURE_BASE_LEVEL = 0x813C,\nTEXTURE_MAX_LEVEL = 0x813D,\nMIN = 0x8007,\nMAX = 0x8008,\nDEPTH_COMPONENT24 = 0x81A6,\nMAX_TEXTURE_LOD_BIAS = 0x84FD,\nTEXTURE_COMPARE_MODE = 0x884C,\nTEXTURE_COMPARE_FUNC = 0x884D,\nCURRENT_QUERY = 0x8865,\nQUERY_RESULT = 0x8866,\nQUERY_RESULT_AVAILABLE = 0x8867,\nSTREAM_READ = 0x88E1,\nSTREAM_COPY = 0x88E2,\nSTATIC_READ = 0x88E5,\nSTATIC_COPY = 0x88E6,\nDYNAMIC_READ = 0x88E9,\nDYNAMIC_COPY = 0x88EA,\nMAX_DRAW_BUFFERS = 0x8824,\nDRAW_BUFFER0 = 0x8825,\nDRAW_BUFFER1 = 0x8826,\nDRAW_BUFFER2 = 0x8827,\nDRAW_BUFFER3 = 0x8828,\nDRAW_BUFFER4 = 0x8829,\nDRAW_BUFFER5 = 0x882A,\nDRAW_BUFFER6 = 0x882B,\nDRAW_BUFFER7 = 0x882C,\nDRAW_BUFFER8 = 0x882D,\nDRAW_BUFFER9 = 0x882E,\nDRAW_BUFFER10 = 0x882F,\nDRAW_BUFFER11 = 0x8830,\nDRAW_BUFFER12 = 0x8831,\nDRAW_BUFFER13 = 0x8832,\nDRAW_BUFFER14 = 0x8833,\nDRAW_BUFFER15 = 0x8834,\nMAX_FRAGMENT_UNIFORM_COMPONENTS = 0x8B49,\nMAX_VERTEX_UNIFORM_COMPONENTS = 0x8B4A,\nSAMPLER_3D = 0x8B5F,\nSAMPLER_2D_SHADOW = 0x8B62,\nFRAGMENT_SHADER_DERIVATIVE_HINT = 0x8B8B,\nPIXEL_PACK_BUFFER = 0x88EB,\nPIXEL_UNPACK_BUFFER = 0x88EC,\nPIXEL_PACK_BUFFER_BINDING = 0x88ED,\nPIXEL_UNPACK_BUFFER_BINDING = 0x88EF,\nFLOAT_MAT2x3 = 0x8B65,\nFLOAT_MAT2x4 = 0x8B66,\nFLOAT_MAT3x2 = 0x8B67,\nFLOAT_MAT3x4 = 0x8B68,\nFLOAT_MAT4x2 = 0x8B69,\nFLOAT_MAT4x3 = 0x8B6A,\nSRGB = 0x8C40,\nSRGB8 = 0x8C41,\nSRGB8_ALPHA8 = 0x8C43,\nCOMPARE_REF_TO_TEXTURE = 0x884E,\nRGBA32F = 0x8814,\nRGB32F = 0x8815,\nRGBA16F = 0x881A,\nRGB16F = 0x881B,\nVERTEX_ATTRIB_ARRAY_INTEGER = 0x88FD,\nMAX_ARRAY_TEXTURE_LAYERS = 0x88FF,\nMIN_PROGRAM_TEXEL_OFFSET = 0x8904,\nMAX_PROGRAM_TEXEL_OFFSET = 0x8905,\nMAX_VARYING_COMPONENTS = 0x8B4B,\nTEXTURE_2D_ARRAY = 0x8C1A,\nTEXTURE_BINDING_2D_ARRAY = 0x8C1D,\nR11F_G11F_B10F = 0x8C3A,\nUNSIGNED_INT_10F_11F_11F_REV = 0x8C3B,\nRGB9_E5 = 0x8C3D,\nUNSIGNED_INT_5_9_9_9_REV = 0x8C3E,\nTRANSFORM_FEEDBACK_BUFFER_MODE = 0x8C7F,\nMAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS = 0x8C80,\nTRANSFORM_FEEDBACK_VARYINGS = 0x8C83,\nTRANSFORM_FEEDBACK_BUFFER_START = 0x8C84,\nTRANSFORM_FEEDBACK_BUFFER_SIZE = 0x8C85,\nTRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN = 0x8C88,\nRASTERIZER_DISCARD = 0x8C89,\nMAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS = 0x8C8A,\nMAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS = 0x8C8B,\nINTERLEAVED_ATTRIBS = 0x8C8C,\nSEPARATE_ATTRIBS = 0x8C8D,\nTRANSFORM_FEEDBACK_BUFFER = 0x8C8E,\nTRANSFORM_FEEDBACK_BUFFER_BINDING = 0x8C8F,\nRGBA32UI = 0x8D70,\nRGB32UI = 0x8D71,\nRGBA16UI = 0x8D76,\nRGB16UI = 0x8D77,\nRGBA8UI = 0x8D7C,\nRGB8UI = 0x8D7D,\nRGBA32I = 0x8D82,\nRGB32I = 0x8D83,\nRGBA16I = 0x8D88,\nRGB16I = 0x8D89,\nRGBA8I = 0x8D8E,\nRGB8I = 0x8D8F,\nRED_INTEGER = 0x8D94,\nRGB_INTEGER = 0x8D98,\nRGBA_INTEGER = 0x8D99,\nSAMPLER_2D_ARRAY = 0x8DC1,\nSAMPLER_2D_ARRAY_SHADOW = 0x8DC4,\nSAMPLER_CUBE_SHADOW = 0x8DC5,\nUNSIGNED_INT_VEC2 = 0x8DC6,\nUNSIGNED_INT_VEC3 = 0x8DC7,\nUNSIGNED_INT_VEC4 = 0x8DC8,\nINT_SAMPLER_2D = 0x8DCA,\nINT_SAMPLER_3D = 0x8DCB,\nINT_SAMPLER_CUBE = 0x8DCC,\nINT_SAMPLER_2D_ARRAY = 0x8DCF,\nUNSIGNED_INT_SAMPLER_2D = 0x8DD2,\nUNSIGNED_INT_SAMPLER_3D = 0x8DD3,\nUNSIGNED_INT_SAMPLER_CUBE = 0x8DD4,\nUNSIGNED_INT_SAMPLER_2D_ARRAY = 0x8DD7,\nDEPTH_COMPONENT32F = 0x8CAC,\nDEPTH32F_STENCIL8 = 0x8CAD,\nFLOAT_32_UNSIGNED_INT_24_8_REV = 0x8DAD,\nFRAMEBUFFER_ATTACHMENT_COLOR_ENCODING = 0x8210,\nFRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE = 0x8211,\nFRAMEBUFFER_ATTACHMENT_RED_SIZE = 0x8212,\nFRAMEBUFFER_ATTACHMENT_GREEN_SIZE = 0x8213,\nFRAMEBUFFER_ATTACHMENT_BLUE_SIZE = 0x8214,\nFRAMEBUFFER_ATTACHMENT_ALPHA_SIZE = 0x8215,\nFRAMEBUFFER_ATTACHMENT_DEPTH_SIZE = 0x8216,\nFRAMEBUFFER_ATTACHMENT_STENCIL_SIZE = 0x8217,\nFRAMEBUFFER_DEFAULT = 0x8218,\n// DEPTH_STENCIL_ATTACHMENT = 0x821A, // duplicate\n// DEPTH_STENCIL = 0x84F9, // duplicate\nUNSIGNED_INT_24_8 = 0x84FA,\nDEPTH24_STENCIL8 = 0x88F0,\nUNSIGNED_NORMALIZED = 0x8C17,\nDRAW_FRAMEBUFFER_BINDING = 0x8CA6, // Same as FRAMEBUFFER_BINDING\nREAD_FRAMEBUFFER = 0x8CA8,\nDRAW_FRAMEBUFFER = 0x8CA9,\nREAD_FRAMEBUFFER_BINDING = 0x8CAA,\nRENDERBUFFER_SAMPLES = 0x8CAB,\nFRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER = 0x8CD4,\nMAX_COLOR_ATTACHMENTS = 0x8CDF,\nCOLOR_ATTACHMENT1 = 0x8CE1,\nCOLOR_ATTACHMENT2 = 0x8CE2,\nCOLOR_ATTACHMENT3 = 0x8CE3,\nCOLOR_ATTACHMENT4 = 0x8CE4,\nCOLOR_ATTACHMENT5 = 0x8CE5,\nCOLOR_ATTACHMENT6 = 0x8CE6,\nCOLOR_ATTACHMENT7 = 0x8CE7,\nCOLOR_ATTACHMENT8 = 0x8CE8,\nCOLOR_ATTACHMENT9 = 0x8CE9,\nCOLOR_ATTACHMENT10 = 0x8CEA,\nCOLOR_ATTACHMENT11 = 0x8CEB,\nCOLOR_ATTACHMENT12 = 0x8CEC,\nCOLOR_ATTACHMENT13 = 0x8CED,\nCOLOR_ATTACHMENT14 = 0x8CEE,\nCOLOR_ATTACHMENT15 = 0x8CEF,\nFRAMEBUFFER_INCOMPLETE_MULTISAMPLE = 0x8D56,\nMAX_SAMPLES = 0x8D57,\nHALF_FLOAT = 0x140B,\nRG = 0x8227,\nRG_INTEGER = 0x8228,\nR8 = 0x8229,\nRG8 = 0x822B,\nR16F = 0x822D,\nR32F = 0x822E,\nRG16F = 0x822F,\nRG32F = 0x8230,\nR8I = 0x8231,\nR8UI = 0x8232,\nR16I = 0x8233,\nR16UI = 0x8234,\nR32I = 0x8235,\nR32UI = 0x8236,\nRG8I = 0x8237,\nRG8UI = 0x8238,\nRG16I = 0x8239,\nRG16UI = 0x823A,\nRG32I = 0x823B,\nRG32UI = 0x823C,\nVERTEX_ARRAY_BINDING = 0x85B5,\nR8_SNORM = 0x8F94,\nRG8_SNORM = 0x8F95,\nRGB8_SNORM = 0x8F96,\nRGBA8_SNORM = 0x8F97,\nSIGNED_NORMALIZED = 0x8F9C,\nCOPY_READ_BUFFER = 0x8F36,\nCOPY_WRITE_BUFFER = 0x8F37,\nCOPY_READ_BUFFER_BINDING = 0x8F36, // Same as COPY_READ_BUFFER\nCOPY_WRITE_BUFFER_BINDING = 0x8F37, // Same as COPY_WRITE_BUFFER\nUNIFORM_BUFFER = 0x8A11,\nUNIFORM_BUFFER_BINDING = 0x8A28,\nUNIFORM_BUFFER_START = 0x8A29,\nUNIFORM_BUFFER_SIZE = 0x8A2A,\nMAX_VERTEX_UNIFORM_BLOCKS = 0x8A2B,\nMAX_FRAGMENT_UNIFORM_BLOCKS = 0x8A2D,\nMAX_COMBINED_UNIFORM_BLOCKS = 0x8A2E,\nMAX_UNIFORM_BUFFER_BINDINGS = 0x8A2F,\nMAX_UNIFORM_BLOCK_SIZE = 0x8A30,\nMAX_COMBINED_VERTEX_UNIFORM_COMPONENTS = 0x8A31,\nMAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS = 0x8A33,\nUNIFORM_BUFFER_OFFSET_ALIGNMENT = 0x8A34,\nACTIVE_UNIFORM_BLOCKS = 0x8A36,\nUNIFORM_TYPE = 0x8A37,\nUNIFORM_SIZE = 0x8A38,\nUNIFORM_BLOCK_INDEX = 0x8A3A,\nUNIFORM_OFFSET = 0x8A3B,\nUNIFORM_ARRAY_STRIDE = 0x8A3C,\nUNIFORM_MATRIX_STRIDE = 0x8A3D,\nUNIFORM_IS_ROW_MAJOR = 0x8A3E,\nUNIFORM_BLOCK_BINDING = 0x8A3F,\nUNIFORM_BLOCK_DATA_SIZE = 0x8A40,\nUNIFORM_BLOCK_ACTIVE_UNIFORMS = 0x8A42,\nUNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES = 0x8A43,\nUNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER = 0x8A44,\nUNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER = 0x8A46,\nINVALID_INDEX = 0xFFFFFFFF,\nMAX_VERTEX_OUTPUT_COMPONENTS = 0x9122,\nMAX_FRAGMENT_INPUT_COMPONENTS = 0x9125,\nMAX_SERVER_WAIT_TIMEOUT = 0x9111,\nOBJECT_TYPE = 0x9112,\nSYNC_CONDITION = 0x9113,\nSYNC_STATUS = 0x9114,\nSYNC_FLAGS = 0x9115,\nSYNC_FENCE = 0x9116,\nSYNC_GPU_COMMANDS_COMPLETE = 0x9117,\nUNSIGNALED = 0x9118,\nSIGNALED = 0x9119,\nALREADY_SIGNALED = 0x911A,\nTIMEOUT_EXPIRED = 0x911B,\nCONDITION_SATISFIED = 0x911C,\nWAIT_FAILED = 0x911D,\nSYNC_FLUSH_COMMANDS_BIT = 0x00000001,\nVERTEX_ATTRIB_ARRAY_DIVISOR = 0x88FE,\nANY_SAMPLES_PASSED = 0x8C2F,\nANY_SAMPLES_PASSED_CONSERVATIVE = 0x8D6A,\nSAMPLER_BINDING = 0x8919,\nRGB10_A2UI = 0x906F,\nINT_2_10_10_10_REV = 0x8D9F,\nTRANSFORM_FEEDBACK = 0x8E22,\nTRANSFORM_FEEDBACK_PAUSED = 0x8E23,\nTRANSFORM_FEEDBACK_ACTIVE = 0x8E24,\nTRANSFORM_FEEDBACK_BINDING = 0x8E25,\nTEXTURE_IMMUTABLE_FORMAT = 0x912F,\nMAX_ELEMENT_INDEX = 0x8D6B,\nTEXTURE_IMMUTABLE_LEVELS = 0x82DF,\n\n// WebGL-specific enums\nMAX_CLIENT_WAIT_TIMEOUT_WEBGL = 0x9247\n","import * as gle from '../enums'\nimport { Binder, Context, Factory } from './types'\n\nconst context = <T>(gl: WebGL2RenderingContext, object: T, bind: Binder<T>): Context<T> =>\n  fn => (fn && (bind(object), fn(gl, object), bind(null)), object)\n\nexport const uniforms = (gl: WebGL2RenderingContext, program: WebGLProgram) =>\n  (name: string) => gl.getUniformLocation(program, name)\n\nexport const array: Factory<WebGLVertexArrayObject> = gl => {\n  const object = gl.createVertexArray()!\n  return context(gl, object, object => gl.bindVertexArray(object))\n}\n\nexport const buffer: Factory<WebGLBuffer> = (gl, target = gle.ARRAY_BUFFER) => {\n  const object = gl.createBuffer()!\n  return context(gl, object, object => gl.bindBuffer(target, object))\n}\n\nexport const texture: Factory<WebGLTexture> = (gl, target = gle.TEXTURE_2D) => {\n  const object = gl.createTexture()!\n  return context(gl, object, object => gl.bindTexture(target, object))\n}\n\nexport const framebuffer: Factory<WebGLFramebuffer> = (gl, target = gle.FRAMEBUFFER) => {\n  const object = gl.createFramebuffer()!\n  return context(gl, object, object => gl.bindFramebuffer(target, object))\n}\n","import * as gle from '../enums'\nimport { element } from 'wheels/esm/dom'\n\nconst numbered = (src: string, n = 1) =>\n  src.replace(/^/gm, () => `${n++}: `.padStart(5, '0'))\n\nexport const api = (attributes?: WebGLContextAttributes, ...extensions: string[]) => {\n  const canvas = element('canvas')()\n  const gl = canvas.getContext('webgl2', attributes)\n\n  if (!gl)\n    throw new Error('WebGL2 is unavailable')\n\n  for (const ext of extensions) {\n    if (!gl.getExtension(ext))\n      throw new Error(`\"${ext}\" extension is unavailable`)\n  }\n\n  return gl\n}\n\nexport const shader = (gl: WebGL2RenderingContext, type: GLenum, source: string) => {\n  const sourceʹ = `#version 300 es\\n${source}`\n  const shader = gl.createShader(type)!\n\n  gl.shaderSource(shader, sourceʹ)\n  gl.compileShader(shader)\n\n  if (!gl.getShaderParameter(shader, gle.COMPILE_STATUS)) {\n    const info = gl.getShaderInfoLog(shader)\n    throw new Error(`Shader error:\\n${info}\\n${numbered(sourceʹ)}\\n`)\n  }\n\n  return shader\n}\n\nexport const program = (gl: WebGL2RenderingContext, vert: WebGLShader, frag: WebGLShader) => {\n  const program = gl.createProgram()!\n\n  gl.attachShader(program, vert)\n  gl.attachShader(program, frag)\n  gl.linkProgram(program)\n\n  if (!gl.getProgramParameter(program, gle.LINK_STATUS)) {\n    const info = gl.getProgramInfoLog(program)\n    throw new Error(`Program error: ${info}`)\n  }\n\n  return program\n}\n","import base from '../glsl/base.vert'\nimport pass1 from '../glsl/pass1.frag'\nimport pass2 from '../glsl/pass2.frag'\n\nexport const vert = { base }\nexport const frag = { pass1, pass2 }\n","import { random } from 'wheels/esm/math'\nimport { extract } from '../lib/canvas/utils'\nimport * as gle from '../lib/gl/enums'\nimport * as glu from '../lib/gl/utils'\nimport { render, str } from '../lib/utils'\nimport { frag, vert } from '../shaders'\nimport { Settings, Source } from '../types'\nimport { LUT } from './LUT'\nimport { Renderer } from './Renderer'\n\nconst enum Attribute { position }\nconst enum Texture { dst, src, lut }\n\nconst filterNearest: glu.Callback = gl => {\n  gl.texParameteri(gle.TEXTURE_2D, gle.TEXTURE_MIN_FILTER, gle.NEAREST)\n  gl.texParameteri(gle.TEXTURE_2D, gle.TEXTURE_MAG_FILTER, gle.NEAREST)\n}\n\nconst quadGeometry = (index: number): glu.Callback => gl => {\n  const quad = Float32Array.of(1, 1, -1, 1, 1, -1, -1, -1)\n  gl.bufferData(gle.ARRAY_BUFFER, quad, gle.STATIC_DRAW)\n  gl.vertexAttribPointer(index, 2, gle.FLOAT, false, 0, 0)\n  gl.enableVertexAttribArray(index)\n}\n\nexport class GPURenderer extends Renderer {\n  private readonly _pass1: WebGLProgram\n  private readonly _pass2: WebGLProgram\n\n  private readonly _gl     = glu.api({}, 'EXT_color_buffer_float')\n  private readonly _fbo    = glu.framebuffer(this._gl)()\n  private readonly _txLUT  = glu.texture(this._gl)(filterNearest)\n  private readonly _txOdd  = glu.texture(this._gl)(filterNearest)\n  private readonly _txEven = glu.texture(this._gl)(filterNearest)\n\n  private readonly _lut = LUT.combine(this._luts)\n  private _charCodes = new Int32Array()\n\n  constructor(settings?: Partial<Settings>) {\n    super(settings)\n\n    const vBase = glu.shader(this._gl, gle.VERTEX_SHADER, vert.base)\n    const fPass1 = glu.shader(this._gl, gle.FRAGMENT_SHADER, frag.pass1)\n    const fPass2 = glu.shader(this._gl, gle.FRAGMENT_SHADER, render(frag.pass2, {\n      chars: this._charMap.length,\n      width: this.settings.lutWidth,\n      height: this.settings.lutHeight\n    }))\n\n    this._pass1 = glu.program(this._gl, vBase, fPass1)\n    this._pass2 = glu.program(this._gl, vBase, fPass2)\n\n    glu.buffer(this._gl)(quadGeometry(Attribute.position))\n  }\n\n  *lines(src: Source, width: number, height: number) {\n    const { settings, _charMap, _lut, _gl, _resize } = this\n    const { _pass1, _pass2, _fbo, _txLUT, _txOdd, _txEven } = this\n\n    const srcWidth  = settings.lutWidth  * width\n    const srcHeight = settings.lutHeight * height\n    const srcʹ = extract(_resize(src, srcWidth, srcHeight))\n\n    const uPass1 = glu.uniforms(_gl, _pass1)\n    const uPass2 = glu.uniforms(_gl, _pass2)\n\n    const area = width * height\n    if (this._charCodes.length !== area)\n      this._charCodes = new Int32Array(area)\n\n    // enable framebuffer\n    _gl.bindFramebuffer(gle.FRAMEBUFFER, _fbo)\n\n    // 1st pass\n    _gl.activeTexture(gle.TEXTURE0 + Texture.lut)\n    _gl.bindTexture(gle.TEXTURE_2D, _txLUT)\n    _gl.texImage2D(gle.TEXTURE_2D, 0, gle.R32F, _lut.width, _lut.height, 0, gle.RED, gle.FLOAT, _lut)\n\n    _gl.activeTexture(gle.TEXTURE0 + Texture.src)\n    _gl.bindTexture(gle.TEXTURE_2D, _txOdd)\n    _gl.texImage2D(gle.TEXTURE_2D, 0, gle.RGBA, gle.RGBA, gle.UNSIGNED_BYTE, srcʹ)\n\n    _gl.activeTexture(gle.TEXTURE0 + Texture.dst)\n    _gl.bindTexture(gle.TEXTURE_2D, _txEven)\n    _gl.texImage2D(gle.TEXTURE_2D, 0, gle.R32F, srcWidth, srcHeight, 0, gle.RED, gle.FLOAT, null)\n    _gl.framebufferTexture2D(gle.FRAMEBUFFER, gle.COLOR_ATTACHMENT0, gle.TEXTURE_2D, _txEven, 0)\n\n    _gl.useProgram(_pass1)\n    _gl.uniform1i(uPass1('uSrc'), Texture.src)\n    _gl.uniform1f(uPass1('uGamma'), settings.gamma)\n    _gl.uniform1f(uPass1('uSignal'), settings.signal)\n    _gl.uniform1f(uPass1('uNoise'), settings.noise)\n    _gl.uniform1f(uPass1('uRandom'), random())\n    _gl.viewport(0, 0, srcWidth, srcHeight)\n    _gl.drawArrays(gle.TRIANGLE_STRIP, 0, 4)\n\n    // 2nd pass\n    _gl.activeTexture(gle.TEXTURE0 + Texture.src)\n    _gl.bindTexture(gle.TEXTURE_2D, _txEven)\n\n    _gl.activeTexture(gle.TEXTURE0 + Texture.dst)\n    _gl.bindTexture(gle.TEXTURE_2D, _txOdd)\n    _gl.texImage2D(gle.TEXTURE_2D, 0, gle.R32I, srcWidth, srcHeight, 0, gle.RED_INTEGER, gle.INT, null)\n    _gl.framebufferTexture2D(gle.FRAMEBUFFER, gle.COLOR_ATTACHMENT0, gle.TEXTURE_2D, _txOdd, 0)\n\n    _gl.useProgram(_pass2)\n    _gl.uniform1i(uPass2('uSrc'), Texture.src)\n    _gl.uniform1i(uPass2('uLUT'), Texture.lut)\n    _gl.uniform1iv(uPass2('uCharMap'), _charMap)\n    _gl.viewport(0, 0, width, height)\n    _gl.drawArrays(gle.TRIANGLE_STRIP, 0, 4)\n\n    // read from framebuffer\n    _gl.readPixels(0, 0, width, height, gle.RED_INTEGER, gle.INT, this._charCodes)\n\n    // disable framebuffer\n    _gl.bindFramebuffer(gle.FRAMEBUFFER, null)\n\n    for (let i = 0; i < area;)\n      yield str(...this._charCodes.subarray(i, i += width))\n  }\n}\n"],"names":["resizer","basic.resizer","basic.cropper","gle.ARRAY_BUFFER","gle.TEXTURE_2D","gle.FRAMEBUFFER","gle.COMPILE_STATUS","gle.LINK_STATUS","gle.TEXTURE_MIN_FILTER","gle.NEAREST","gle.TEXTURE_MAG_FILTER","gle.STATIC_DRAW","gle.FLOAT","glu.api","glu.framebuffer","glu.texture","glu.shader","gle.VERTEX_SHADER","gle.FRAGMENT_SHADER","glu.program","glu.buffer","glu.uniforms","gle.TEXTURE0","gle.R32F","gle.RED","gle.RGBA","gle.UNSIGNED_BYTE","gle.COLOR_ATTACHMENT0","gle.TRIANGLE_STRIP","gle.R32I","gle.RED_INTEGER","gle.INT"],"mappings":"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"}